
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Command console for performing updates to the FabMo engine and dashboard">
    <title>FabMo Update Console</title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">    
</head>
<body>
<div id="container">
  <div id="menu">
    <ul class="items">
      <li class="menu-title"><span>FabMo Updater</span></li>    
      <li class="menu-item active" data-id="view-updates"><a href="#"><i class="fa fa-download"></i> Engine Updates</a></li>
      <li class="menu-item" data-id="view-firmware"><a href="#"><i class="fa fa-gears"></i> Firmware Updates</a></li>
      <li class="menu-item" data-id="view-network"><a href="#"><i class="fa fa-wifi"></i> Network</a></li>
      <li class="menu-item" data-id="view-system"><a href="#"><i class="fa fa-wrench"></i> System</a></li>
      <li class="menu-label status" id="updater-status">
        <a>
          <i id="updater-status-icon" class="fa fa-circle-o"></i>
          <span id="updater-status-text"> Unknown</span>
        </a>
      </li>

    </ul>
  </div>
  <div id="content">
    <!--

      ENGINE UPDATES

    -->
    <div class="content-pane active" id="view-updates">
      <h1>Engine Updates</h1>
      <h2>Stable Version</h2>
      <p>To update to a stable release of the engine, choose one from the list below and click update.</p>
      <form class="form-horizontal" id="form-update-stable">
        <button id="btn-update-stable" class="btn-green"><i class="fa fa-tags fa-lg"></i> Update to:</button>
        <select id="update-version">
        </select>
      </form>

      <h2>Development Version</h2>
      <p>To update to a stable release of the engine, choose one from the list below and click update. <span class="emphasis">Note that the latest development version may be unstable and contain undocumented bugs</span></p>
      <button id="btn-update-latest" class="btn-purple"><i class="fa fa-github fa-lg"></i>  Update to Latest Development Version</button>

      <h2>Reinstall</h2>
      <p>In rare instances, an engine installation may become damaged or corrupt and need to be installed from scratch.  Click the button below to reinstall the latest stable engine version from scratch.  If you wish to run the development version, you can update once the installation is complete. <span class="emphasis">You should only perform this operation if you are certain that your engine needs to be reinstalled</span></p>
      <button id="btn-reinstall" class="btn-red"><i class="fa fa-download fa-lg"></i> Reinstall the Engine</button>

    </div>

    <!--

      FIRMWARE UPDATES

    -->
    <div class="content-pane" id="view-firmware">
      <h1>Firmware Updates</h1>
      <p>The button below will force a firmware update on the G2 motion system.  Firmware installed in this way will be taken from your engine installation so you are sure to be using the firmware that is qualified for use with the version of the engine that you are running.</p>
      <p><span class="emphasis">Firmware installation can be a risky operation.  Do not proceed unless you are sure you need to update!</span></p>      
      <button id="btn-update-firmware" class="btn-blue"><i class="fa fa-gears"></i> Update Firmware</button>
      <br/>
    </div>

    <!--

      NETWORK

    -->
    <div class="content-pane" id="view-network">
    <h1>Network</h1>
    <p>Below is a list of available wireless networks.  Enter an SSID and key at the bottom of the table to join a network.  You can click a network in the list to fill in that network's SSID.  <span class="emphasis">Note that when you join a network, you will lose your connection to the updater and will need to reconnect from the chosen network.</span></p>
    <div id="no-networks-message">
      <h3>No wireless networks are currently visible.</h3>  
      <p>If you know a nearby network is active but not listed here, you can enter its SSID and network key in the form below, and an attempt will be made to join it anyway.</p>
    </div>
    <table id="network-table">
	   <thead>
	   <tr>
		<th>SSID</th>
		<th>Security</th>
		<th>Strength</th>
	   </tr>
	    </thead>
	    <tbody>
      <tr></tr>
	    </tbody>
    </table>
      <form id="form-join-network" class="form-horizontal">
        <fieldset>
         <label>Network ID: </label>
         <input id="network-ssid" type="text" placeholder="SSID" />
         <input id="network-key" type="password" placeholder="Network Key" />
	       <button id="btn-network-join" class="btn-green"><i class="fa fa-wifi"></i> Join Wifi Network</button>
        </fieldset>
      </form>
      <h2>AP Mode</h2>
      <p>In AP mode, the system acts as its own wireless access point, which can be connected to by any wifi-capable device.  In this mode, no internet access is available, so updates and other operations that require an internet connection cannot be performed. <span class="emphasis">Switching to AP mode will disconnect you from the updater.  You will have to change to the AP network once the operation is complete.</p>
         <button id="btn-network-ap-mode" class="btn-blue"><i class="fa fa-wifi"></i> Switch to AP Mode</button>

    </div>

    <!--

      SYSTEM

    -->
    <div class="content-pane" id="view-system">
      <h1>System</h1>
      <h2>System Identity</h2>
      <p>The name selected here will be used both as the system hostname as well as the SSID when in AP mode.  The password will be used both as the root password as well as the network key for AP mode.  <span class="emphasis">You do not need to enter both values.  Only non-blank values will be changed.</span></p>
      <form class="form-horizontal" id="form-network-id">
        <fieldset>
         <label>System ID: </label>
         <input id="network-name" type="text" placeholder="Name" />
         <input id="network-password" type="password" placeholder="Root Password" />
         <button id="btn-network-id" class="btn-green">Set System ID</button>
        </fieldset>
      </form>
      <h2>Engine Control</h2>
      <p>The buttons below can be used to start and stop the engine software.  <span class="emphasis">These operations do not normally need to be performed manually</span></p>
      <button id="btn-start-engine" class="button btn-green">Start Engine</button>
      <button id="btn-stop-engine" class="button btn-red">Stop Engine</button>

    </div>

    <!-- Console (Always Visible) -->
    <div id="console-header">
      Updater Console
    </div>
    <div id="console">
      <div class="content"></div>
    </div>
  </div>
</div>

<div id="modal">
  <div id="modal-content">
  <div>
    <a><i id="modal-icon" style="vertical-align: middle"></i><span id="modal-title" style="vertical-align:middle"></span></a>
  </div>
    <p id="modal-text">Some text in the Modal..</p>
    <div id="modal-buttons">
      <button class="btn-red" id="btn-modal-cancel">Cancel</button>
      <button class="btn-green" id="btn-modal-ok">OK</button>
    </div>
  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="js/libs/jquery.min.js"></script>
<script src="js/libs/updaterapi.js"></script>
<script src="js/main.js"></script>
</body>
</html>
